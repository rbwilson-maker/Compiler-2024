//test return 92
// 8 queens

int main() {
    int res = 0;
    int row = 0;
    int diag1 = 0;
    int diag2 = 0;
    for (int r0 = 0; r0 < 8; r0++) {
        row |= 1 << r0;
        diag1 |= 1 << (r0 + 0);
        diag2 |= 1 << (r0 - 0 + 7);
    
    for (int r1 = 0; r1 < 8; r1++) {
        if (((1 << r1) & row) == 0 &&
            ((1 << (r1 + 1)) & diag1) == 0 &&
            ((1 << (r1 - 1 + 7)) & diag2) == 0) {
            row |= 1 << r1;
            diag1 |= 1 << (r1 + 1);
            diag2 |= 1 << (r1 - 1 + 7);
    
    for (int r2 = 0; r2 < 8; r2++) {
        if (((1 << r2) & row) == 0 &&
            ((1 << (r2 + 2)) & diag1) == 0 &&
            ((1 << (r2 - 2 + 7)) & diag2) == 0) {
            row |= 1 << r2;
            diag1 |= 1 << (r2 + 2);
            diag2 |= 1 << (r2 - 2 + 7);
    
    for (int r3 = 0; r3 < 8; r3++) {
        if (((1 << r3) & row) == 0 &&
            ((1 << (r3 + 3)) & diag1) == 0 &&
            ((1 << (r3 - 3 + 7)) & diag2) == 0) {
            row |= 1 << r3;
            diag1 |= 1 << (r3 + 3);
            diag2 |= 1 << (r3 - 3 + 7);
    
    for (int r4 = 0; r4 < 8; r4++) {
        if (((1 << r4) & row) == 0 &&
            ((1 << (r4 + 4)) & diag1) == 0 &&
            ((1 << (r4 - 4 + 7)) & diag2) == 0) {
            row |= 1 << r4;
            diag1 |= 1 << (r4 + 4);
            diag2 |= 1 << (r4 - 4 + 7);
    
    for (int r5 = 0; r5 < 8; r5++) {
        if (((1 << r5) & row) == 0 &&
            ((1 << (r5 + 5)) & diag1) == 0 &&
            ((1 << (r5 - 5 + 7)) & diag2) == 0) {
            row |= 1 << r5;
            diag1 |= 1 << (r5 + 5);
            diag2 |= 1 << (r5 - 5 + 7);
    
    for (int r6 = 0; r6 < 8; r6++) {
        if (((1 << r6) & row) == 0 &&
            ((1 << (r6 + 6)) & diag1) == 0 &&
            ((1 << (r6 - 6 + 7)) & diag2) == 0) {
            row |= 1 << r6;
            diag1 |= 1 << (r6 + 6);
            diag2 |= 1 << (r6 - 6 + 7);
    
    for (int r7 = 0; r7 < 8; r7++) {
        if (((1 << r7) & row) == 0 &&
            ((1 << (r7 + 7)) & diag1) == 0 &&
            ((1 << (r7 - 7 + 7)) & diag2) == 0) {
                res++;
        }
    }
    
            row &= ~(1 << r6);
            diag1 &= ~(1 << (r6 + 6));
            diag2 &= ~(1 << (r6 - 6 + 7));
        }
    }
    
            row &= ~(1 << r5);
            diag1 &= ~(1 << (r5 + 5));
            diag2 &= ~(1 << (r5 - 5 + 7));
        }
    }
    
            row &= ~(1 << r4);
            diag1 &= ~(1 << (r4 + 4));
            diag2 &= ~(1 << (r4 - 4 + 7));
        }
    }
    
            row &= ~(1 << r3);
            diag1 &= ~(1 << (r3 + 3));
            diag2 &= ~(1 << (r3 - 3 + 7));
        }
    }
    
            row &= ~(1 << r2);
            diag1 &= ~(1 << (r2 + 2));
            diag2 &= ~(1 << (r2 - 2 + 7));
        }
    }
    
            row &= ~(1 << r1);
            diag1 &= ~(1 << (r1 + 1));
            diag2 &= ~(1 << (r1 - 1 + 7));
        }
    }

        row &= ~(1 << r0);
        diag1 &= ~(1 << (r0 + 0));
        diag2 &= ~(1 << (r0 - 0 + 7));
    }
    return res;
}
